{% extends 'layout.html' %}
{% block content %}
<div class="container wrapper flex-grow-1">
  
  {% if messages %}
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    {% for message in messages %}
        {{ message }}
    {% endfor %}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
{% endif %}
  <!-- CHECK THIS BLOCK IF ITS WORKING START -->
  {% if form.subject.errors %}
    <div>    
      <ul>
      {% for error in form.subject.errors %}
        <li><strong>{{ error|escape }}</strong></li>
      {% endfor %}
      </ul>
    </div>
  {% endif %}
  <!-- CHECK THIS BLOCK IF ITS WORKING FINISH -->
  
  <h1 class="my-4">
    Регистрация
  </h1>
  
  <form action="{% url 'user_create' %}" method="post">
    {% csrf_token %}
    <div class="container mt-4">
      <div class="mb-3">
        <label class="form-label" for="id_first_name">Имя</label>
        <input type="text" name="first_name" maxlength="150" class="form-control" placeholder="Имя" required id="id_first_name">
      </div>
      <div class="mb-3">
        <label class="form-label" for="id_last_name">Фамилия</label>
        <input type="text" name="last_name" maxlength="150" class="form-control" placeholder="Фамилия" required id="id_last_name">
      </div>
      <div class="mb-3">
        <label class="form-label" for="id_username">Имя пользователя</label>
        <input type="text" name="username" maxlength="150" autofocus class="form-control" placeholder="Имя пользователя" required id="id_username">
        <div class="form-text">Обязательное поле. Не более 150 символов. Только буквы, цифры и символы @/./+/-/_.</div>
        
      </div>
      <div class="mb-3">
        <label class="form-label" for="id_password">Пароль</label>
        <input type="password"  name="password1" autocomplete="new-password" class="form-control" placeholder="Пароль" required id="id_password">
        <div class="form-text"><ul><li>Ваш пароль должен содержать как минимум 3 символа.</li></ul></div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="id_password_check">Подтверждение пароля</label>
        <input type="password" name="password2" autocomplete="new-password" class="form-control" placeholder="Подтверждение пароля" required id="id_password_check">
        <div class="form-text">Для подтверждения введите, пожалуйста, пароль ещё раз.</div>
      </div>

      <input class="btn btn-dark" type="submit" value="Зарегистрировать">
    </div>
  </form>
</div>
{% endblock %}